var d=new WeakMap,s=null,y={initInterop:async r=>(s=r,!0),set:async r=>{try{return r.forEach(({key:e,value:c})=>{c.forEach(t=>{let n=document.getElementById(t);if(!n){console.warn(`Element with id="${t}" not found`);return}"value"in n?n.value=e:n.textContent=e})}),!0}catch(e){return console.error("Update set error:",e),!1}},updateEvents:async r=>{try{if(!s)return console.error("Interop not initialized. Call initInterop first."),!1;let e=document.getElementById(r);return e?(e.querySelectorAll("button[data-action]").forEach(t=>{let n=d.get(t);n&&t.removeEventListener("click",n);let l=async()=>{let a=t.getAttribute("data-action"),i=t.getAttribute("data-params");if(!a){console.warn("Missing data-action");return}let u=[];try{u=i?JSON.parse(i):[]}catch(o){console.error("Invalid JSON in data-params:",o)}try{let o=await s.invokeMethodAsync("HandleAction",a,u);o.success?console.log(`Action '${a}' executed successfully.`):console.warn(`Action '${a}' failed:`,o.error)}catch(o){console.error("Failed to call C# method:",o)}};t.addEventListener("click",l),d.set(t,l)}),!0):(console.warn(`Container with id "${r}" not found.`),!1)}catch(e){return console.error("Update set error:",e),!1}}};window.ne=y;
